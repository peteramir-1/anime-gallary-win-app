<section class="flex-initial">
  <button appButton routerLink="/library/add">
    <ng-icon name="heroPlus" />
  </button>
</section>
<section class="flex-grow max-w-full">
  <input
    type="text"
    name="search"
    class="!p-3"
    placeholder="Search Example: Demon Slayer"
    [formControl]="searchResultControl"
    appInput />
  <!-- Filter By Like/Love/Favorite -->
</section>
<section class="flex-initial flex items-center justify-center">
  @if (!likedFilter.getValue()) {
    <ng-icon class="cursor-pointer align-text-top"
      size="1.75rem"
      color="#dc2626"
      name="jamHeart"
      matTooltip="All Anime"
      (click)="likedFilter.next(true)" />
  } @else {
    <ng-icon class="cursor-pointer align-text-top"
      size="1.75rem"
      color="#dc2626"
      name="jamHeartF"
      matTooltip="Liked Anime"
      (click)="likedFilter.next(false)" />
  }
  <ng-template #jamHeartF>
    <ng-icon class="cursor-pointer align-text-top"
      size="1.75rem"
      color="#dc2626"
      name="jamHeartF"
      matTooltip="Liked Anime"
      (click)="likedFilter.next(false)" />
  </ng-template>
</section>

<section class="min-w-[50%] flex flex-row content-stretch flex-nowrap gap-4">
  <!-- Filter By Status of the anime incomplete/complete/all -->
  <section class="flex-grow">
    <app-select
      class="min-w-28"
      name="status"
      placeholder="Status Filter"
      [(ngModel)]="statusControl"
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="setStatusFilter($event)">
      <app-option [value]="null">N/A</app-option>
      <app-option value="complete">
        {{ 'complete' | titlecase }}
      </app-option>
      <app-option value="incomplete">
        {{ 'incomplete' | titlecase }}
      </app-option>
    </app-select>
  </section>

  <!-- Filter By Anime Season autumn/summer/winter/spring/all -->
  <section class="flex-grow">
    <app-select
      class="w-full"
      name="season"
      placeholder="Season Filter"
      [(ngModel)]="seasonControl"
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="setSeasonFilter($event)">
      <app-option [value]="null">N/A</app-option>
      <app-option value="summer">
        {{ 'summer' | titlecase }}
      </app-option>
      <app-option value="autumn">
        {{ 'autumn' | titlecase }}
      </app-option>
      <app-option value="winter">
        {{ 'winter' | titlecase }}
      </app-option>
      <app-option value="spring">
        {{ 'spring' | titlecase }}
      </app-option>
    </app-select>
  </section>

  <!-- Filter By Anime Release Date -->
  <section class="flex-grow">
    <app-select
      class="w-full"
      name="releaseDate"
      placeholder="Date Filter"
      [(ngModel)]="releaseDateControl"
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="setReleaseDateFilter($event)">
      <app-option [value]="null">N/A</app-option>
      @for (year of years; track year) {
        <app-option [value]="year">
          {{ year }}
        </app-option>
      }
    </app-select>
  </section>

  <section class="flex-grow">
    <app-select
      class="w-full"
      name="orderBy"
      placeholder="order by"
      [(ngModel)]="orderByControl"
      [ngModelOptions]="{ standalone: true }"
      (ngModelChange)="setOrderBy($event)">
      <app-option value="name">Name</app-option>
      <app-option value="released">Released Date</app-option>
      <app-option value="season">Season</app-option>
    </app-select>
  </section>
</section>
